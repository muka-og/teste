<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Amorzinhos üíñ</title>

<!-- PWA -->
<link rel="manifest" href="data:application/json,{
  &quot;name&quot;:&quot;Amorzinhos&quot;,
  &quot;short_name&quot;:&quot;Amor&quot;,
  &quot;start_url&quot;:&quot;.&quot;,
  &quot;display&quot;:&quot;standalone&quot;,
  &quot;background_color&quot;:&quot;#0f0f0f&quot;,
  &quot;theme_color&quot;:&quot;#ff4d88&quot;
}">
<meta name="theme-color" content="#ff4d88">

<style>
*{box-sizing:border-box}
body{
  margin:0;height:100vh;
  background:linear-gradient(135deg,#0f0f0f,#1a1a1a);
  color:#fff;font-family:system-ui,Arial;
  display:flex;justify-content:center;align-items:center;
  overflow:hidden
}
.app{width:100%;max-width:420px;padding:20px;z-index:2}
.card{
  background:#111;padding:28px;border-radius:26px;
  box-shadow:0 0 35px rgba(255,0,100,.35);
  text-align:center
}
h1{color:#ff4d88;margin-top:0}
.time{font-size:1.3em;margin:16px 0}
.heart-center{
  font-size:90px;margin:18px 0;
  transform:scale(1);transition:transform .08s linear
}
button{
  width:100%;padding:14px;
  background:linear-gradient(135deg,#ff4d88,#ff1f66);
  border:none;border-radius:16px;
  color:#fff;font-weight:bold;font-size:1em;
  box-shadow:0 0 14px rgba(255,77,136,.7)
}
.heart-bg{
  position:absolute;bottom:-10vh;
  animation:subir 6s linear forwards;
  opacity:.6
}
@keyframes subir{
  to{transform:translateY(-120vh);opacity:0}
}
.mensagem{
  position:fixed;inset:0;
  background:rgba(0,0,0,.9);
  display:flex;justify-content:center;align-items:center;
  z-index:10
}
.mensagem-conteudo{
  background:#ff4d88;width:280px;height:280px;
  border-radius:50%;padding:35px;
  display:flex;align-items:center;justify-content:center;
  text-align:center;box-shadow:0 0 40px rgba(255,77,136,.9)
}
</style>
</head>

<body>

<div class="app">
  <div class="card">
    <h1>üíñ Amorzinhos üíñ</h1>
    <p>Estamos juntos h√°:</p>
    <div class="time" id="contador"></div>

    <div class="heart-center" id="heart">‚ù§Ô∏è</div>

    <button id="btn">üéµ Tocar m√∫sica</button>
    <p>Te amo todos os dias üñ§</p>
  </div>
</div>

<audio id="audio" crossorigin="anonymous" loop>
  <source src="https://apparent-green-a0bqdupkva.edgeone.app/aliancas.mp3" type="audio/mpeg">
</audio>

<script>
const inicio = new Date("2025-09-25T00:00:00");
const contador = document.getElementById("contador");
const audio = document.getElementById("audio");
const btn = document.getElementById("btn");
const heart = document.getElementById("heart");

let ctx, analyser, dataArray, vibraAtivo=false;

function atualizar(){
  const agora=new Date(), diff=agora-inicio;
  const d=Math.floor(diff/86400000);
  const h=Math.floor(diff/3600000)%24;
  const m=Math.floor(diff/60000)%60;
  contador.innerText=`${d} dias, ${h} horas e ${m} minutos`;
  if(new Date().getDate()===25 && !document.getElementById("msg25")){
    const msg=document.createElement("div");
    msg.className="mensagem";msg.id="msg25";
    msg.innerHTML=`<div class="mensagem-conteudo">
      Estamos h√°<br><strong>${d} dias</strong><br>
      escrevendo a hist√≥ria do nosso amor üíñ
    </div>`;
    document.body.appendChild(msg);
    setTimeout(()=>msg.remove(),8000);
  }
}

function criarCoracao(){
  const h=document.createElement("div");
  h.className="heart-bg";h.innerText="‚ù§Ô∏è";
  h.style.left=Math.random()*100+"vw";
  h.style.fontSize=(Math.random()*20+14)+"px";
  document.body.appendChild(h);
  setTimeout(()=>h.remove(),6000);
}
setInterval(criarCoracao,700);

function iniciarAnalise(){
  ctx=new (window.AudioContext||window.webkitAudioContext)();
  const src=ctx.createMediaElementSource(audio);
  analyser=ctx.createAnalyser();
  analyser.fftSize=256;
  dataArray=new Uint8Array(analyser.frequencyBinCount);
  src.connect(analyser);analyser.connect(ctx.destination);
  analisarBatida();
}

function analisarBatida(){
  analyser.getByteFrequencyData(dataArray);
  let energia=dataArray.reduce((a,b)=>a+b,0)/dataArray.length;
  let escala=1+(energia/200);
  heart.style.transform=`scale(${escala})`;
  if(energia>120 && navigator.vibrate){
    navigator.vibrate(30);
  }
  requestAnimationFrame(analisarBatida);
}

btn.onclick=()=>{
  if(audio.paused){
    audio.play();
    btn.innerText="‚è∏Ô∏è Pausar m√∫sica";
    if(!ctx) iniciarAnalise();
  }else{
    audio.pause();
    btn.innerText="üéµ Tocar m√∫sica";
  }
};

atualizar();
setInterval(atualizar,60000);
</script>

</body>
</html>
